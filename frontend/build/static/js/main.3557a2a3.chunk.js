(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){e.exports=a(200)},111:function(e,t,a){},112:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=a(18),s=a(16),i=a(11),u=a.n(i),m=a(13),p=a(10),d=a(96),E=a.n(d),f=r.a.createContext({token:void 0,setToken:function(){},logout:function(){}}),b=localStorage.getItem("auth-token"),g=(f.Consumer,function(e){var t=e.children,a=Object(n.useState)(b),c=Object(p.a)(a,2),l=c[0],o=c[1],s=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("auth-token"),o("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=l?E()(l):{};return r.a.createElement(f.Provider,{value:{token:l||"",setToken:function(e){localStorage.setItem("auth-token",e),o(e)},logout:s,user:i}},t)});a(111),a(112),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(113);var h=a(33),v=a(206),O=a(228),j=a(207),y=a(208),x=a(209),C=a(210),k=a(99),w=a(97),N=a.n(w),S=window.location.origin,D=N.a.create({baseURL:S,timeout:6e4});D.interceptors.request.use((function(e){var t=localStorage.getItem("auth-token"),a=!!t&&"Bearer ".concat(t," ");return a&&(e.headers.Authorization=a),e}));var M=D,_=(a(85),function(e){var t=Object(n.useContext)(f),a=Object(h.g)(),c=Object(n.useState)({error:!1,message:""}),l=Object(p.a)(c,2),i=l[0],d=l[1],E=Object(n.useState)(""),b=Object(p.a)(E,2),g=b[0],w=b[1],N=Object(n.useState)(""),S=Object(p.a)(N,2),D=S[0],_=S[1];return r.a.createElement(v.a,{className:"themed-container login"},i.error&&r.a.createElement(O.a,{onClick:function(){return d({error:!1,message:""})},color:"danger"}," ",i.message," "),r.a.createElement("h2",null,"Sign In"),r.a.createElement(j.a,{className:"form"},r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"exampleEmail"},"Email"),r.a.createElement(C.a,{type:"email",name:"email",onChange:function(e){return w(e.target.value)},id:"exampleEmail",placeholder:""})),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"examplePassword"},"Password"),r.a.createElement(C.a,{type:"password",name:"password",onChange:function(e){return _(e.target.value)},id:"examplePassword",placeholder:""})),r.a.createElement(k.a,{color:"primary",disabled:!g||!D,onClick:Object(m.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({variables:{email:g,password:D}}),e.prev=1,e.next=4,M.post("/api/token",{email:g,password:D});case 4:n=e.sent,r=n.data,t.setToken(r.access),a.push("/app"),s.b.info("Welcome."),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),d({error:!0,message:JSON.stringify(e.t0.response.data)});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))},"Sign in"),r.a.createElement("span",{style:{float:"right"}},"Not a member yet? ",r.a.createElement(o.b,{to:"/sign-up"},"Create an account"))))}),P=function(e){var t=Object(n.useState)({error:!1,message:""}),a=Object(p.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),d=Object(p.a)(i,2),E=d[0],f=d[1],b=Object(n.useState)(""),g=Object(p.a)(b,2),w=g[0],N=g[1],S=Object(n.useState)(""),D=Object(p.a)(S,2),_=D[0],P=D[1],z=Object(n.useState)(""),A=Object(p.a)(z,2),F=A[0],I=A[1],T=Object(h.g)();return r.a.createElement(v.a,{className:"themed-container login"},c.error&&r.a.createElement(O.a,{onClick:function(){return l({error:!1,message:""})},color:"danger"}," ",c.message," "),r.a.createElement("h2",null,"Sign Up"),r.a.createElement(j.a,{className:"form"},r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"exampleEmail"},"Email"),r.a.createElement(C.a,{type:"email",name:"email",onChange:function(e){return f(e.target.value)},id:"exampleEmail",placeholder:""})),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"exampleFirst"},"First Name"),r.a.createElement(C.a,{type:"text",name:"firstname",onChange:function(e){return P(e.target.value)},id:"exampleFirst",placeholder:""})),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"exampleLast"},"Last Name"),r.a.createElement(C.a,{type:"text",name:"lastname",onChange:function(e){return I(e.target.value)},id:"exampleLast",placeholder:""})),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"examplePassword"},"Password"),r.a.createElement(C.a,{type:"password",name:"password",onChange:function(e){return N(e.target.value)},id:"examplePassword",placeholder:""})),r.a.createElement(k.a,{color:"primary",disabled:!E||!w||!_||!F,onClick:Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("/api/v1/sign-up/",{email:E,password:w,first_name:_,last_name:F});case 3:s.b.info("User created successfully."),T.push("/login"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),s.b.error("There was an error during the sign up process."),l({error:!0,message:JSON.stringify(e.t0.response.data)});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))},"Sign Up"),r.a.createElement("span",{style:{float:"right"}},"Already a member yet? ",r.a.createElement(o.b,{to:"/login"},"Sign In"))))},z=a(214),A=a(215),F=a(216),I=a(217),T=a(102),J=a(227),Y=function(e){var t=e.wrapperStyle,a=e.placement,n=e.target,c=e.toolContent,l=e.componetContent,o=e.Component,s=Object(T.a)(e,["wrapperStyle","placement","target","toolContent","componetContent","Component"]);return r.a.createElement("span",{style:t},r.a.createElement(o,Object.assign({id:n},s),l),r.a.createElement(J.a,{placement:a,target:n},c))},L=a(229),R=a(211),W=a(212),q=a(213),U=function(e){var t=e.isOpen,a=e.option_id,c=e.toggle,l=Object(n.useState)(""),i=Object(p.a)(l,2),d=i[0],E=i[1],b=Object(n.useContext)(f),g=Object(n.useState)({error:!1,message:""}),h=Object(p.a)(g,2),w=h[0],N=h[1],S=!!b.token,D=function(){E(""),N({error:!1,message:""})},_=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("api/v1/orders",{additional_notes:d,option_id:a});case 3:D(),c(),s.b.success("Order placed successfully."),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),s.b.error("There was an error placing your order."),console.error(e.t0),N({error:!0,message:JSON.stringify(e.t0.response?e.t0.response.data:e.t0)});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(L.a,{isOpen:t,toggle:c,size:"lg"},r.a.createElement(R.a,{toggle:c},"Place a new order"),r.a.createElement(W.a,null,r.a.createElement(v.a,null,w.error&&r.a.createElement(O.a,{onClick:function(){return N({error:!1,message:""})},color:"danger"}," ",w.message," "),S&&r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"menuDescription"},"Additional Notes"),r.a.createElement(C.a,{type:"textarea",name:"orderNotes",id:"orderNotes",onChange:function(e){return E(e.target.value)}}))),!S&&r.a.createElement("div",null,"To place a new order please ",r.a.createElement(o.b,{to:"/login",target:"_blank"},"sign in")," first, after that come back here and refresh to place an order :) If you don't have an active account do not hesitate to ",r.a.createElement(o.b,{to:"/sign-up",target:"_blank"},"sign up")))),r.a.createElement(q.a,null,r.a.createElement(k.a,{color:"primary",onClick:_},"Place order")," ",r.a.createElement(k.a,{color:"secondary",onClick:function(){D(),c()}},"Cancel")))},B=function(){var e=Object(h.h)().id,t=Object(n.useState)({}),a=Object(p.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(p.a)(s,2),d=i[0],E=i[1],b=Object(n.useState)(""),g=Object(p.a)(b,2),j=g[0],y=g[1],x=!!Object(n.useContext)(f).token,C=Object(n.useState)({error:!1,message:""}),k=Object(p.a)(C,2),w=k[0],N=k[1];Object(n.useEffect)((function(){D()}),[]);var S=function(e){y(e),E(!d)},D=function(){var t=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.get("/api/v1/daily-menu/".concat(e));case 3:a=t.sent,n=a.data,l(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),N({error:!0,message:JSON.stringify(t.t0.response?t.t0.response.data:t.t0)});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(v.a,{style:{padding:"80px 30px 30px 30px"}},w.error&&r.a.createElement(O.a,{color:"danger"}," ",w.message," "),!w.error&&r.a.createElement("div",null,x&&r.a.createElement("div",null,r.a.createElement(o.b,{to:"/app"}," Go to dashboard")),r.a.createElement("h4",null,"Welcome to the daily Menu ",c.name),r.a.createElement("h5",null,c.description),r.a.createElement("br",null),r.a.createElement(z.a,null,c&&c.options&&c.options.map((function(e){return r.a.createElement(A.a,{key:e.id},r.a.createElement(F.a,null,e.name),r.a.createElement(I.a,null,r.a.createElement("div",null,e.description,r.a.createElement(Y,{placement:"top",toolContent:"Order",componetContent:r.a.createElement("i",{className:"fa fa-cutlery cursor grey-color","aria-hidden":"true"}),Component:"span",style:{float:"right",fontSize:"22px",color:"color"},target:"OrderMenu",className:"cursor marg-betw-small",onClick:S.bind(void 0,e.id)})),r.a.createElement("div",null,r.a.createElement("b",null,"Price:")," $ ",e.price)))}))),r.a.createElement(U,{isOpen:d,toggle:E,option_id:j})))},$=a(224),G=a(225),H=a(218),K=a(219),Q=a(220),V=a(230),X=a(221),Z=a(222),ee=a(223),te=function(){var e=Object(n.useContext)(f);e.user.is_staff;return r.a.createElement("header",null,r.a.createElement(H.a,{color:"faded",light:!0,expand:"md"},r.a.createElement(o.c,{className:"plain-a",to:"/dashboard"}),r.a.createElement(K.a,{className:"ml-auto",navbar:!0},r.a.createElement(Q.a,{className:"mar-betw-med pull-left"}),r.a.createElement(Q.a,{className:"mar-betw-med"},r.a.createElement(V.a,null,r.a.createElement(X.a,{tag:"div",className:"drop-header-padding "},r.a.createElement("span",{className:"marg-betw-small cursor element-drop"},e.user.name)),r.a.createElement(Z.a,null,r.a.createElement(ee.a,{className:"cursor",onClick:e.logout},r.a.createElement("i",{className:"fa fa-sign-out","aria-hidden":"true"}),"\xa0Log Out")))))))},ae=a(226),ne=function(e){var t=e.isOpen,a=e.id,c=e.toggle,l=Object(n.useState)([]),o=Object(p.a)(l,2),s=o[0],i=o[1];Object(n.useEffect)((function(){d()}),[a]);var d=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,M.get("/api/v1/menus/".concat(a,"/orders?expand=user,option"));case 3:t=e.sent,n=t.data,i(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=e.data;return r.a.createElement(A.a,null,r.a.createElement(I.a,null,r.a.createElement("p",null,r.a.createElement("b",null,"Requester:")," ","".concat(t.user.first_name," ").concat(t.user.last_name)),r.a.createElement("p",null,r.a.createElement("b",null,"Option:")," ",t.option.name),r.a.createElement("p",null,r.a.createElement("b",null,"Notes:")," ",t.additional_notes),r.a.createElement("p",null,r.a.createElement("b",null,"Price:")," ",t.option.price)))};return console.log(a),r.a.createElement(L.a,{isOpen:t,toggle:c},r.a.createElement(R.a,{toggle:c},"Menu Orders"),r.a.createElement(W.a,null,r.a.createElement(z.a,null,s.length>0?s.map((function(e){return r.a.createElement(E,{key:e.id,data:e})})):"There is not any order for this menu")),r.a.createElement(q.a,null,r.a.createElement(k.a,{color:"secondary",onClick:c},"Cancel")))},re=a(32),ce=a(75),le=a(40),oe=a(49),se=a.n(oe),ie=a(45),ue=a.n(ie),me=function(e){var t=e.isOpen,a=e.id,c=e.onMenuEdited,l=e.toggle,o=Object(n.useState)(""),i=Object(p.a)(o,2),d=i[0],E=i[1],f=Object(n.useState)(""),b=Object(p.a)(f,2),g=b[0],h=b[1],w=Object(n.useState)(""),N=Object(p.a)(w,2),S=N[0],D=N[1],_=Object(n.useState)(new Date),P=Object(p.a)(_,2),z=P[0],A=P[1],F=Object(n.useState)([]),I=Object(p.a)(F,2),T=I[0],J=I[1],Y=Object(n.useState)({error:!1,message:""}),U=Object(p.a)(Y,2),B=U[0],H=U[1],K=Object(n.useState)({}),Q=Object(p.a)(K,2),V=Q[0],X=Q[1],Z=Object(n.useState)(0),ee=Object(p.a)(Z,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){ne()}),[a,te]);var ne=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,M.get("/api/v1/menus/".concat(a));case 3:t=e.sent,n=t.data,oe(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(e){h(e.id),E(e.name),D(e.description),A(ue()(e.available_date).toDate()),X({}),H({error:!1,message:""}),J(e.options)},ie=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.put("api/v1/menus/".concat(g),{name:d,description:S,available_date:ue()(z).format("YYYY-MM-DD"),options:[]});case 3:c(),l(),s.b.success("Menu saved successfully."),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),s.b.error("There was an error editing the menu, please check the details in the form."),console.error(e.t0),H({error:!0,message:JSON.stringify(e.t0.response?e.t0.response.data:e.t0)});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),me=function(e,t,a){var n=Object(le.a)(T);t?a?n[e][t]=a.target.value:n[e]=t:n.splice(e,1),J(n)},pe=function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,e.prev=1,!t.id){e.next=15;break}if(!n){e.next=9;break}return e.next=6,M.delete("api/v1/menus/".concat(g,"/options/").concat(t.id));case 6:s.b.success("Option deleted successfully."),e.next=13;break;case 9:return e.next=11,M.put("api/v1/menus/".concat(g,"/options/").concat(t.id),t);case 11:r=e.sent.data,s.b.success("Option updated successfully.");case 13:e.next=20;break;case 15:if(n){e.next=20;break}return e.next=18,M.post("api/v1/menus/".concat(g,"/options"),t);case 18:r=e.sent.data,s.b.success("Option saved successfully.");case 20:me(a,r),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(1),console.error(e.t0),s.b.error("There was an error processing the action, please check the details in the form."),X(Object(ce.a)({},V,Object(re.a)({},a,{error:!0,message:JSON.stringify(e.t0.response?e.t0.response.data:e.t0)})));case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement(L.a,{isOpen:t,toggle:function(){ae(te+1),l()},size:"lg"},r.a.createElement(R.a,{toggle:function(){ae(te+1),l()}},"Edit Menu"),r.a.createElement(W.a,null,r.a.createElement(v.a,null,B.error&&r.a.createElement(O.a,{onClick:function(){return H({error:!1,message:""})},color:"danger"}," ",B.message," "),r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"menuName"},"Name"),r.a.createElement(C.a,{type:"text",name:"name",id:"menuName",onChange:function(e){return E(e.target.value)},placeholder:"",value:d})),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"menuDescription"},"Description"),r.a.createElement(C.a,{type:"textarea",name:"text",id:"menuDescription",value:S,onChange:function(e){return D(e.target.value)}})),r.a.createElement(y.a,null,r.a.createElement(x.a,{style:{marginRight:"10px"},for:"menuDate"},"Availability Date:  "),r.a.createElement(se.a,Object(re.a)({id:"menuDate",dateFormat:"yyyy-MM-dd",value:z,selected:z,onChange:function(e){return A(e.target.value)}},"onChange",(function(e){return A(e)}))))),r.a.createElement(v.a,null,T.map((function(e,t){return r.a.createElement(j.a,{key:t,style:{position:"relative"}},V[t]&&V[t].error&&r.a.createElement(O.a,{onClick:function(){return X(Object(ce.a)({},B,Object(re.a)({},t,{error:!1,message:""})))},color:"danger"}," ",V[t].message," "),r.a.createElement($.a,{form:!0},r.a.createElement(k.a,{style:{position:"absolute",left:"610px",top:"-3px",cursor:"pointer",zIndex:10},onClick:pe.bind(void 0,e,t,!0),close:!0}),r.a.createElement(G.a,{md:6},r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"optionName"},"Option Name"),r.a.createElement(C.a,{"data-idx":t,type:"text",name:"name",id:"optionName",placeholder:"",value:e?e.name:"",onChange:me.bind(void 0,t,"name")}))),r.a.createElement(G.a,{md:6},r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"optionNumber"},"Option Price:"),r.a.createElement(C.a,{"data-idx":t,type:"number",name:"optionNumber",id:"exampleNumber",placeholder:"number placeholder",value:e?e.price:0,onChange:me.bind(void 0,t,"price")})))),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"optionDescription"},"Option Description"),r.a.createElement(C.a,{type:"textarea","data-idx":t,name:"text",value:e?e.description:"",id:"optionDescription",onChange:me.bind(void 0,t,"description")})),r.a.createElement(k.a,{className:"pull-righst",onClick:pe.bind(void 0,e,t,!1),color:"success",size:"sm"},"Save"),r.a.createElement("hr",null))})),r.a.createElement(k.a,{onClick:function(){J([].concat(Object(le.a)(T),[{name:"",description:"",price:0}]))},style:{float:"right"},color:"primary",size:"sm"},"Add option")))),r.a.createElement(q.a,null,r.a.createElement(k.a,{color:"primary",onClick:ie},"Edit")," ",r.a.createElement(k.a,{color:"secondary",onClick:function(){ae(te+1),l()}},"Cancel")))},pe=function(e){var t=e.refresh,a=Object(n.useState)([]),c=Object(p.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(!1),i=Object(p.a)(s,2),d=i[0],E=i[1],f=Object(n.useState)(""),b=Object(p.a)(f,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(p.a)(v,2),j=O[0],y=O[1],x=Object(n.useState)(0),C=Object(p.a)(x,2),k=C[0],w=C[1];Object(n.useEffect)((function(){N()}),[t,k]);var N=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/api/v1/menus");case 2:t=e.sent,a=t.data,console.log({data:a}),o(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){h(e),_()},D=function(e){h(e),P()},_=function(){return E(!d)},P=function(){return y(!j)},z=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:""},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.available_date),r.a.createElement("td",null,r.a.createElement("center",null,r.a.createElement(Y,{placement:"top",toolContent:"Edit",componetContent:r.a.createElement("i",{className:"fa fa-pencil-square-o cursor grey-color","aria-hidden":"true"}),Component:"span",target:"EditMenu".concat(t.id),className:"cursor marg-betw-small",onClick:D.bind(void 0,t.id)}),r.a.createElement(Y,{placement:"top",toolContent:"Orders",componetContent:r.a.createElement("i",{className:"fa fa-cutlery cursor grey-color","aria-hidden":"true"}),Component:"span",target:"ShowOrders".concat(t.id),className:"cursor marg-betw-small",onClick:S.bind(void 0,t.id)})))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{hover:!0,striped:!0,responsive:!0,className:"fm-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Availability date "),r.a.createElement("th",null,r.a.createElement("center",null,"Acciones")))),r.a.createElement("tbody",{className:"fm-body-table"},l.map((function(e){return r.a.createElement(z,{key:e.id,data:e})})))),r.a.createElement(ne,{id:g,toggle:_,isOpen:d}),r.a.createElement(me,{id:g,toggle:P,isOpen:j,onMenuEdited:function(){return w(k+1)}}))},de=function(e){var t=e.isOpen,a=e.onMenuCreate,c=e.toggle,l=Object(n.useState)(""),o=Object(p.a)(l,2),i=o[0],d=o[1],E=Object(n.useState)(""),f=Object(p.a)(E,2),b=f[0],g=f[1],h=Object(n.useState)(new Date),w=Object(p.a)(h,2),N=w[0],S=w[1],D=Object(n.useState)([{name:"",description:"",price:0}]),_=Object(p.a)(D,2),P=_[0],z=_[1],A=Object(n.useState)({error:!1,message:""}),F=Object(p.a)(A,2),I=F[0],T=F[1],J=function(){d(""),g(""),S(new Date),T({error:!1,message:""}),z([{name:"",description:"",price:0}])},Y=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("api/v1/menus",{name:i,description:b,available_date:ue()(N).format("YYYY-MM-DD"),options:P});case 3:t=e.sent,t.data,a(),J(),c(),s.b.success("Menu created successfully."),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),s.b.error("There was an error creating the Menu, please check the details on the top."),T({error:!0,message:JSON.stringify(e.t0.response?e.t0.response.data:e.t0)});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),U=function(e,t,a){var n=Object(le.a)(P);t?n[e][t]=a.target.value:n.splice(e,1),z(n)};return console.log(N.getDay()===(new Date).getDay()),r.a.createElement(L.a,{isOpen:t,toggle:c,size:"lg"},r.a.createElement(R.a,{toggle:c},"Create new Menu"),r.a.createElement(W.a,null,r.a.createElement(v.a,null,I.error&&r.a.createElement(O.a,{onClick:function(){return T({error:!1,message:""})},color:"danger"}," ",I.message," "),N.getDay()===(new Date).getDay()&&r.a.createElement(O.a,{color:"info"},"Remember that, when you create a new menu whose launching date is today, ",r.a.createElement("b",null,"you can not")," edit it later."),r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"menuName"},"Name"),r.a.createElement(C.a,{type:"text",name:"name",id:"menuName",onChange:function(e){return d(e.target.value)},placeholder:""})),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"menuDescription"},"Description"),r.a.createElement(C.a,{type:"textarea",name:"text",id:"menuDescription",onChange:function(e){return g(e.target.value)}})),r.a.createElement(y.a,null,r.a.createElement(x.a,{style:{marginRight:"10px"},for:"menuDate"},"Availability Date:  "),r.a.createElement(se.a,Object(re.a)({id:"menuDate",dateFormat:"yyyy-MM-dd",selected:N,onChange:function(e){return S(e.target.value)}},"onChange",(function(e){return S(e)}))))),r.a.createElement(v.a,null,P.map((function(e,t){return r.a.createElement(j.a,{key:t,style:{position:"relative"}},r.a.createElement($.a,{form:!0},r.a.createElement(k.a,{style:{position:"absolute",left:"610px",top:"-3px",cursor:"pointer",zIndex:10},onClick:U.bind(void 0,t,null),close:!0}),r.a.createElement(G.a,{md:6},r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"optionName"},"Option Name"),r.a.createElement(C.a,{"data-idx":t,type:"text",name:"name",id:"optionName",placeholder:"",value:e.name,onChange:U.bind(void 0,t,"name")}))),r.a.createElement(G.a,{md:6},r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"optionNumber"},"Option Price:"),r.a.createElement(C.a,{"data-idx":t,type:"number",name:"optionNumber",id:"exampleNumber",placeholder:"number placeholder",value:e.price,onChange:U.bind(void 0,t,"price")})))),r.a.createElement(y.a,null,r.a.createElement(x.a,{for:"optionDescription"},"Option Description"),r.a.createElement(C.a,{type:"textarea","data-idx":t,name:"text",value:e.description,id:"optionDescription",onChange:U.bind(void 0,t,"description")})),r.a.createElement("hr",null))})),r.a.createElement(k.a,{onClick:function(){z([].concat(Object(le.a)(P),[{name:"",description:"",price:0}]))},style:{float:"right"},color:"primary",size:"sm"},"Add option")))),r.a.createElement(q.a,null,r.a.createElement(k.a,{color:"primary",onClick:Y},"Create")," ",r.a.createElement(k.a,{color:"secondary",onClick:function(){J(),c()}},"Cancel")))},Ee=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),s=Object(p.a)(o,2),i=s[0],u=s[1],m=function(){return l(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,null,r.a.createElement(G.a,{md:10},r.a.createElement("h4",null,"Welcome to the menu management page")),r.a.createElement(G.a,{md:2},r.a.createElement(k.a,{onClick:m,color:"primary",size:"sm"},"Create menu"))),r.a.createElement("br",null),r.a.createElement(pe,{refresh:i}),r.a.createElement(de,{isOpen:c,toggle:m,onMenuCreate:function(){return u(i+1)}}))},fe=(a(95),function(e){var t=e.isOpen,a=e.notes,n=e.toggle;return r.a.createElement(L.a,{isOpen:t,toggle:n,size:"lg"},r.a.createElement(R.a,{toggle:n},"Additional notes"),r.a.createElement(W.a,null,r.a.createElement(v.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{disabled:!0},r.a.createElement(x.a,{for:"menuDescription"},"Additional Notes"),r.a.createElement(C.a,{type:"textarea",name:"orderNotes",id:"orderNotes",value:a}))))),r.a.createElement(q.a,null,r.a.createElement(k.a,{color:"secondary",onClick:n},"Cancel")))}),be=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(p.a)(l,2),s=o[0],i=o[1],d=Object(n.useState)(!1),E=Object(p.a)(d,2),f=E[0],b=E[1],g=Object(n.useState)(""),h=Object(p.a)(g,2),v=h[0],O=h[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/api/v1/orders?expand=option");case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){i(e),O(t),x()},x=function(){return b(!f)},C=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:""},r.a.createElement("td",null,t.option.menu.name),r.a.createElement("td",null,t.option.name),r.a.createElement("td",null,t.created_at),r.a.createElement("td",null,r.a.createElement("center",null,r.a.createElement(Y,{placement:"top",toolContent:"Edit",componetContent:r.a.createElement("i",{className:"fa fa-pencil-square-o cursor grey-color","aria-hidden":"true"}),Component:"span",target:"EditOrder".concat(t.id),className:"cursor marg-betw-small",onClick:y.bind(void 0,t.id,t.additional_notes)})))))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{hover:!0,striped:!0,responsive:!0,className:"fm-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Menu name"),r.a.createElement("th",null,"Selected option"),r.a.createElement("th",null,"Order date "),r.a.createElement("th",null,r.a.createElement("center",null,"Notes")))),r.a.createElement("tbody",{className:"fm-body-table"},a.map((function(e){return r.a.createElement(C,{key:e.id,data:e})})))),r.a.createElement(fe,{id:s,notes:v,toggle:x,isOpen:f}))},ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,null,r.a.createElement(G.a,{md:10},r.a.createElement("h4",null,"Your previous orders"))),r.a.createElement("br",null),r.a.createElement(be,null))},he=(a(198),function(e){var t=e.match,a=Object(n.useContext)(f).user.is_staff;return r.a.createElement("div",{className:"wrapper"},r.a.createElement(te,null),r.a.createElement($.a,{className:"total-height"},r.a.createElement(G.a,{md:"12",xs:"12",sm:"12",className:"total-height no-padd"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement(h.d,null,a&&r.a.createElement(h.b,{path:"".concat(t.url,"/menus"),component:Ee}),a&&r.a.createElement(h.a,{to:"".concat(t.url,"/menus")}),!a&&r.a.createElement(h.b,{path:"".concat(t.url,"/orders"),component:ge}),!a&&r.a.createElement(h.a,{to:"".concat(t.url,"/orders")}))))))}),ve=function(){return r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/app",component:he}),r.a.createElement(h.a,{to:"/app"}))};function Oe(){var e=!!Object(n.useContext)(f).token;return r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/menu/:id",component:B}),!e&&r.a.createElement(h.b,{path:"/login",component:_}),!e&&r.a.createElement(h.b,{path:"/sign-up",component:P}),!e&&r.a.createElement(h.a,{to:"/login"}),e&&r.a.createElement(h.b,{component:ve}))}a(199);l.a.render(r.a.createElement(o.a,null,r.a.createElement(g,null,r.a.createElement(Oe,null),r.a.createElement(s.a,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.3557a2a3.chunk.js.map